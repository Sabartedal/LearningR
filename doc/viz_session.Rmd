---
title: "Data viz"
author: "Sabina SH Andersen"
date: "17/6/2021"
output: html_document
---

```{r setup}
# load packages

source(here::here("R/package-loading.R"))

# load the tidied dataset 

load(here::here("data/nhanes_small.rda"))
```

# One variable plots

```{r continuous-variables}
ggplot(nhanes_small, aes(x = bmi)) +
    geom_density()

ggplot(nhanes_small, aes(x = bmi)) + 
    geom_histogram()

```

```{r discrete-variables}

ggplot(nhanes_small, aes(x = gender)) +
    geom_bar()

ggplot(nhanes_small, aes(x = diabetes)) +
    geom_bar()

```

```{r remove-missing-diabetes}

#removes the entire case - remember that

nhanes_tidied <- nhanes_small %>% 
    filter(!is.na(diabetes))

# save data

usethis::use_data(nhanes_tidied, overwrite = T)

# Now make plot with out diabetes 

ggplot(nhanes_tidied, aes(x = diabetes)) +
    geom_bar()
```

#plotting two varibles

```{r 2-continous-variables}

# ved at definere som nedenstående behøver man ikke at skrive hele koden hver gang.  

bmi_chol <- ggplot(nhanes_tidied, aes(x = bmi, y = tot_chol))

bmi_chol + geom_point()

bmi_chol + geom_hex()

bmi_chol + geom_smooth()

bmi_chol + geom_hex() + geom_smooth()

```

```{r 2-discrete-variables}

# ved at definere som nedenstående behøver man ikke at skrive hele koden hver gang.

two_discrete <- nhanes_tidied %>% 
    ggplot(aes(x = diabetes, fill = gender))

two_discrete + geom_bar()

two_discrete + geom_bar(position = position_dodge())

```

```{r discrete-continuous-variables}

two_mixed <- nhanes_tidied %>% 
    ggplot(aes(x = diabetes, y = bmi))

two_mixed + geom_boxplot()

two_mixed + geom_jitter()

two_mixed + geom_violin()

```

